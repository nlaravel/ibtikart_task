
<!doctype html>
<html  lang="ar" dir="rtl" >
<head>
    <link rel="shortcut icon" href="https://mapp.sa/matajerLandingPage/img/defaultLogo.png">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="csrf-token" content="cilMdpC7TokPY82b681G3N5gTmpRs0B065yBZlov">
    <meta name="description" content=""/>
    <meta property="og:locale" content="ar_AR"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://mapp.sa/myore"/>
    <meta property="og:site_name" content="test"/>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/bootstrap-rtl.min.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/font-awesome.min.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/jquery-ui.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/swiper.min.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/animate.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/nice-select.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/ladda-themeless.min.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/animation/cart-mv.css">
    <link href="https://mapp.sa/cPanel/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://mapp.sa/cPanel/css/sweetalert.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/loader.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/vendor/jquery.rateyo.min.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/icons.min.css">
    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/intlTelInput.css">

    <link rel="stylesheet" href="https://mapp.sa/webStore/themes/default/css/style.css?version=3">


    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=ZQADr-_eQIR1TJDhslDazrtn3nsMy9Dq28Dr4GWZ_lnXzDkSd84Dx8TFbXzFm1T1" charset="UTF-8"></script><style>

        .error {
            color: red !important;
            font-size: 10px !important;
        }

        .sa-confirm-button-container .btn-success {
            background-color: #43459B         !important;
            border-color: #43459B         !important;
            color: white !important;
        }

        .productItem .productAddCart button {
            background-color: #43459B         !important;
            color: #fff !important;
            background-image: #43459B         !important;
        }

        .favourite .favouite-product-items .item .addCartBtn button {
            background-color: #43459B         !important;
            color: white !important;
            background-image: unset !important;
        }

        .favourite .favouite-product-items .item .addCartBtnspan {
            color: red !important;
            background-image: unset !important;
        }

        .favourite .favouite-product-items .item .addCartBtn a {
            background-color: #43459B         !important;
            color: white !important;
            background-image: unset !important;

        }

        .cart-wizard .wizard-content .card-shipping .AddressInput:checked ~ .AddressLabel {
            -webkit-box-shadow: 0px 15px 20pxrgb(67, 69, 155,0.1);
            box-shadow: 0px 15px 20pxrgb(67, 69, 155,0.1);
        }

        .cart-wizard .wizard-content .shippingContent .card-address .AddressInput:checked ~ .AddressLabel {
            -webkit-box-shadow: 0px 15px 20pxrgb(67, 69, 155,0.1);
            box-shadow: 0px 15px 20pxrgb(67, 69, 155,0.1);
        }

        .productItem .productAddCart a {
            background-color: #43459B         !important;
            color: #ffffff !important;
            background-image: #43459B         !important;
            display: block;
            border: 0;
            width: 100%;
            border-radius: 2px;
            padding: 10px 0;
            font-size: 16px;
            cursor: pointer;
        }

        .productItem .productAddCart a img {
            width: 22px;
            margin-left: 8px;
            vertical-align: bottom;
        }

        .productItem .options .offer {
            background-color: #43459B         !important;
        }


        .shipping-payment .titleBar {
            background-color: #43459B         !important;
        }

        .shipping-payment .titleBar {
            color: #43459B         !important;
        }

        .price {
            color: #43459B         !important;
        }

        .profile-wrapper .sidebarContent .orders-status .nav-item a.active {
            background-color: #43459B         !important;

        }

        .AddressLabel span {
            color: #43459B         !important;
            margin: 0 10px;
        }

        .product-details-mini-box .rates-view-box p span {

            /* color: #fda500 !important; */
            color: #f6d465 !important;
        }

        .datepicker table tr td span.focused {
            background: #43459B         !important;
            color: #fff;
        }

        .product-full-wrapper .product-full-details .accordion .media .badge-info {
            background-color: #43459B         !important
        }

        .form-group input[type="submit"] {
            background-color: #43459B         !important;

        }

        .product-full-wrapper .product-full-details .accordion .media .media-body h5 span.date {
            color: #43459B         !important;

        }

        .profile-wrapper .user-sidebar .user-info {
            background-color: #43459B         !important;
        }

        .btn-style {
            background-color: #43459B         !important;

        }

        .btn-primary {
            background-color: #43459B         !important;
            color: white !important;
            border-color: #43459B         !important;
        }


        .profile-wrapper .user-sidebar .user-info {
            background-image: #43459B         !important;
        }

        .cart-wizard .wizard-content .card-shipping .radioCircle::after {
            background: #43459B         !important;
        }

        .btn-style {
            background-image: #43459B         !important;
        }

        .cart-wizard .wizard-nav .wizard-step.active {
            background-color: #fff !important;
        }

        .cart-wizard .wizard-nav .wizard-step.active .stepIcon,
        .cart-wizard .wizard-nav .wizard-step.active h3 {
            color: #43459B         !important
        }

        .cart-wizard .wizard-nav .wizard-step.active .num {
            background-color: #43459B         !important;
        }

        .cart-wizard .wizard-content .shippingContent .card-address .AddressLabel .radioCircle::after {
            background-color: #43459B         !important;

        }

        .cart-wizard .wizard-content .shippingContent .card-address .AddressInput:checked ~ .AddressLabel {
            background-color: #f7f5f9 !important;
            color: #000000ab;
            border-color: #43459B         !important;

        }

        .cart-wizard .wizardNavBtns button.next-step {
            background-color: #43459B         !important;

        }

        .cart-wizard .wizardNavBtns button.checkAddress {
            background-color: #43459B         !important;

        }

        .thanks-page h1 {
            color: #43459B         !important;
        }

        .productItem .productPrice p {
            color: #43459B         !important;
            direction: rtl;









        }

        .topBarBtns ul li.cartBtn .count {
            background-color: #43459B         !important;
            color: white;
        }

        .topBarBtns i {
            color: #43459B         !important;
        }


        .topBarBtns ul li a {
            color: #43459B         !important;

        }

        .dropdown-accordion-menu > input[type="checkbox"]:checked ~ a {
            color: #43459B         !important;
        }

        header.main-header nav .nav-items li.dropdown.active > a {
            color: #43459B         !important;
        }

        .profile-wrapper .sidebarContent .profile-rates-item .rateComment .date {
            color: #43459B         !important;
        }

        .main-footer .footer-about-store .social-media li a {
            color: #43459B         !important;
        }

        .main-footer .footer-about-store .social-media li:hover a {
            background-color: #43459B         !important;
            color: white !important;
        }

        .main-footer .footer-about-store .social-media li:hover svg {
            fill: white !important;
        }

        .topBarShipping .fa-truck {
            color: #43459B         !important;
        }

        .topBarShipping .trackIcon {
            fill: #43459B         !important;
        }

        .cartBtn .CartSvgIcon {
            fill: #43459B         !important;
            width: 22px;
        }

        .breadcrumb .breadcrumb-item a {
            color: #43459B         !important;

        }

        .productItem .productTitle h3 {
            color: #43459B         !important;
        }

        .product-full-wrapper .product-full-details .basic-info h2 {
            color: #43459B         !important;

        }

        .breadcrumb .breadcrumb-item.active {
            color: #43459B         !important;

        }

        .product-full-wrapper .product-preview .options .offer {
            background-color: #43459B         !important;

        }

        .product-full-wrapper .product-full-details .product-specifics .specifics-item ul li .specificsInput:checked ~ .specificsLabel {
            background: #43459B         !important;

        }

        .product-full-wrapper .product-full-details .cart-block .addCartBtn button {
            background-color: #43459B              !important
        }

        .favourite .favouite-product-items .item .addCartBtn button {
            background-image: #43459B         !important;
        }

        .cart-view-page .orderSummary table td:last-child {
            color: #43459B         !important;
        }

        .sp-icon .material-icons {
            color: #43459B         !important;
        }

        .favourite .favouite-product-items .item .price p {
            color: #43459B         !important;
        }

        .cart-view-page .cart-items .item .price p {
            color: #43459B         !important;

        }

        .cart-view-page .cart-items .item .product-item h5 {
            color: #43459B         !important;

        }

        .cart-wizard .wizard-content .card-shipping .AddressInput:checked ~ .AddressLabel {
            background-color: #f7f5f9          !important;
            color: #000000ab;
        }

        .container-checkbox input:checked ~ .checkmark {
            background-color: #43459B         !important;
        }

        header.main-header nav .nav-items > li:hover, header.main-header nav .nav-items > li:focus {
            color: #43459B         !important;
        }


        .profile-wrapper .user-sidebar .userSideBarLinks .list-group-item.active {
            color: #43459B         !important;
        }

        .profile-wrapper .user-sidebar .userSideBarLinks .list-group-item.active .fa {
            color: #43459B         !important;

        }

        .list-group-item.active {
            border-color: #43459B         !important;
        }

        .titleHead .title::after {
            background-color: #43459B         !important;

        }

        .product-full-wrapper .product-full-details .accordion .card-header .card-title span {
            color: #43459B         !important;
        }

        .products-row .swiper-pagination-bullet-active {
            background-color: #43459B         !important;
            border-color: #43459B         !important;

        }

        .pagination .page-item.active .page-link {
            background-color: #43459B         !important;
            border-color: #43459B         !important;
            color: #fff;
        }

        .profile-wrapper .sidebarContent .orders-status-content .order-item .order-details .status span {
            color: #43459B         !important;

        }

        .modal .sp-icon i {
            color: #43459B         !important;

        }

        .under-construction .sp-icon {
            border-color: #43459B important;
        }

        .under-construction .sp-icon i {
            color: #43459B         !important;

        }

        .dropdown-accordion-menu [aria-expanded="true"] {
            color: #43459B         !important;
        }

        .modal .sp-icon {
            border-color: #43459B         !important;

        }

        .modal .m-link span {
            color: #43459B         !important;

        }

        .banner .swiper-pagination-bullet-active {
            background-color: #43459B         !important;
            border-color: #43459B         !important;
        }

        header .toggle-nav .cd-accordion__input:checked ~ .cd-accordion__label {
            color: #43459B         !important;
        }

        .fa-heart {
            color: #f50504 !important;
        }

        .fa-heart-o {
            color: #43459B         !important;
        }

        .countBtnWrap .value-button:hover {
            background: #43459B         !important;
            color: #fff;
        }

        /* .allOrderPage .orderSummary table td:last-child {
            color:






        #43459B






        !important;

                                                                } */

        #checkout_hint {
            color: #43459B         !important;
        }

        .load_data_btn_info {
            color: #43459B         !important;
            display: inline-block;
            font-weight: 400;
            text-align: center;
            vertical-align: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-color: transparent;
            border: 1px solid transparent;
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: .25rem;
            transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        }

        .allOrderPage .cart-items .price p {
            color: #43459B         !important;

        }

        .testimonails .item .rate .stars ul li i {
            color: #43459B         !important;
        }

        .testimonails .swiper-pagination-bullet-active {
            background: #43459B          !important;
            border-color: #43459B          !important;
        }

        #tidio-chat-iframe {
            right: 0 !important;
        }

        .quick-categories .swiper-slide .categorieItem:hover .category-description h3 {
            color: #43459B         !important;
        }

        .quick-categories .swiper-slide .categorieItem:hover .category-description .line {
            background-color: #43459B         !important;
        }

        .modal .m-link span {
            color: #43459B          !important
        }

        a[data-target="#registerModal"] {
            color: #43459B         !important
        }

        #codeResendTimer {
            color: #43459B         !important
        }

        .social-share li:hover a .fa {
            color: #43459B         !important
        }

        .addressPlaceWrap .placeActived {
            background-color: #43459B         !important;
            color: #fff;
            border-color: #43459B         !important

        }

        .addressPlaceWrap .PlaceBtn:hover {
            background-color: #43459B         !important;
            color: #fff;
            border-color: #43459B         !important
        }

        header.main-header nav .nav-items li.dropdown .dropdown-list li.dropdown-list-item:hover {
            background-color: #43459B         !important
        }

        header.main-header nav .nav-items::-webkit-scrollbar-thumb:hover {
            background-color: #43459B         !important;
            -webkit-transition: .3s ease-in-out;
            transition: .3s ease-in-out;
        }

        .cart-wizard .wizard-content .card-shipping .AddressInput:checked ~ .AddressLabel {
            border: 1px solid#43459B;
        }

        .store_features .store_features-item .icon {
            background-color: #43459B         !important;
        }

        .store_features .store_features-item h3 {
            color: #43459B;
        }

        .select2-container--default .select2-results__option--highlighted[aria-selected] {
            background-color: #43459B         !important;
        }

        .free-shipping-progress .free-shipping-title span {
            color: #43459B;
        }

        .free-shipping-progress .bar {
            background-color: #43459B;
        }

        .bootstrap-select .dropdown-item.active,
        .bootstrap-select .dropdown-item:active {
            background-color: #43459B;
        }

        .datepicker table tr td.active.active,
        .datepicker table tr td span.active:hover {
            background: #43459B;
            border-color: #43459B;
        }

        .cart-wizard .wizard-content .shippingContent .card-address .AddressInput:checked ~ .AddressLabel .radioCircle,
        .cart-wizard .wizard-content .card-shipping .AddressInput:checked ~ .AddressLabel .radioCircle {
            background-color: #43459B;
        }

        #product_reservation_modal .modal-header {
            background: #43459B;
            border-color: #43459B;
        }
        #product_reservation_modal .modal-footer .btn-primary {
            background: #43459B;
        }
        #product_reservation_modal .cell.select, #product_reservation_modal .modal-header, #product_reservation_modal .modal-footer .btn-primary, .sweet-alert .modal-footer .btn-primary {
            background: #43459B;
            border-color: #43459B;
        }
        #product_reservation_modal .cell:hover {
            border:1px solid  #43459B !important;
        }

    </style>
    <style>
        .emptyProduct {
            text-align: center;
            position: absolute;
            left: 20px;
            top: 15px;
            background: #656666;
            opacity: 0.8;
            border-radius: 15px;
            padding: 0 10px;
            line-height: 33px;
            color: white;
            font-size: smaller;
            font-weight: bold;
        }

        .alertBanner {
            position: relative;
            padding: .75rem 1.25rem;
            /*            margin-bottom: 1rem;*/
            border: 1px solid transparent;
            /*border-radius: .25rem*/
        }

        .alertBanner a {
            font-family: "SSTArabic-Light";
            font-size: 14px;
            display: block;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        @media (max-width: 1200px) {

            .alertBanner {
                position: relative;
                top: 0px;
                padding: 4px 8px !important;
            }
        }
    </style>
    <style>

        .search-bar #productList {

            position: absolute;
            top: 40px;
            width: 100%;

        }

        .search-bar #productList ul {
            width: 100%;
            max-height: 200px;
            overflow-y: scroll;
            padding-bottom: 15px;
        }


        .search-bar #productList ul::-webkit-scrollbar {
            width: 5px;
            height: 5px;
        }

        .search-bar #productList ul::-webkit-scrollbar-track {
            background: #ffffff;
            border-radius: 5px;
        }

        .search-bar #productList ul::-webkit-scrollbar-thumb {
            background: #929FAA;
            border-radius: 5px;
            height: 10px;
            -webkit-transition: .3s ease-in-out;
            transition: .3s ease-in-out;
        }

        .search-bar #productList ul::-webkit-scrollbar-thumb:hover {
            background: #929FAA;
        }

        .search-bar #productList ul li {

            /* border-bottom: 1px solid #f7f6f6; */
            display: flex;
            justify-content: flex-start;
            /* margin-bottom: 10px; */
            border: 0;
            border-bottom: 1px solid #f7f6f6;
            padding: 5px 0;
        }

        .search-bar #productList ul li a {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            font-size: 13px;
        }

        .search-bar #productList ul li a img {
            max-width: 100%;
            border-radius: 5px;
            padding: 2px;
            width: 45px;
            height: 40px;
        }

        .search-bar #productList ul li:last-child {
            border-bottom: 0;
        }

    </style>
    <style type="text/css">


    </style>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://mapp.sa/webStore/themes/default/topbar/javascripts/jquery-3.5.1.min.js"></script>
    <script src="https://mapp.sa/webStore/themes/default/topbar/javascripts/prettify.min.js"></script>
    <script src="https://mapp.sa/webStore/themes/default/js/topbar.min.js"></script>
    <script src="https://mapp.sa/webStore/themes/default/js/intlTelInput.js"></script>
    <script>
        $(function () {
            prettyPrint()

            function resetToDefaults() {
                topbar.config({
                    autoRun: true,
                    barThickness: 1.2,
                    barColors: {
                        '0': '#43459B',
                        '.25': '#43459B',
                        '.50': '#43459B',
                        '.75': '#43459B',
                        '1.0': '#43459B'
                    },
                    // shadowBlur   : 10,
                    // shadowColor  : 'rgba(0,   0,   0,   .6)',
                    className: 'topbar'
                })
            }

            // Page load
            resetToDefaults()
            topbar.show()
            setTimeout(function () {
                $('#main_content').fadeIn('slow')
                topbar.hide()
            }, 1500)

            // Simple Demo
            $('#btnStartSimple').click(function () {
                resetToDefaults()
                topbar.show()
            })
            $('#btnStopSimple').click(function () {
                topbar.hide()
            })

            // Advanced Demo
            $('#btnStartAdvanced').click(function () {
                resetToDefaults()
                topbar.config({
                    autoRun: false,
                    barThickness: 5,
                    barColors: {
                        '0': 'rgba(26,  188, 156, .7)',
                        '.3': 'rgba(41,  128, 185, .7)',
                        '1.0': 'rgba(231, 76,  60,  .7)'
                    },
                    shadowBlur: 5,
                    shadowColor: 'rgba(0, 0, 0, .5)'
                })
                topbar.show();
                (function step() {
                    setTimeout(function () {
                        if (topbar.progress('+.01') < 1) step()
                    }, 16)
                })()
            })
            $('#btnStopAdvanced').click(function () {
                topbar.hide()
            })
        })
    </script>
    <script>
        $(document).ready(function () {
            let store_id = "38037";
            let custom_domain = "";
            let autoCompleteUrl = "https://mapp.sa/myore/autoCompleteSearch"
            if (custom_domain) {
                autoCompleteUrl = "https://mapp.sa/autoCompleteSearch";
            }
            $('#clearQSearch').on('click', function () {
                $('#q').val('');
                $('#productList').empty();
                $('.fresco-div').hide();
                $(this).css('display','none');
            });
            $('#q').keyup(function (event) {
                let data = $(this).val();
                if (event.keyCode === 8 || event.keyCode === 46) {
                    if (data.length === 0) {
                        $('#productList').fadeOut();
                        $('#productList').html('');
                    }
                }
                $('#clearQSearch').css('display','block');
                // if (data.length <= 2) {
                $('#productList').fadeOut();
                $('#productList').html('');
                // }
                if (data.length > 2) {
                    let fresco = $('.fresco-div');
                    fresco.html('<div class="container-fluid" id="fresco"><div class="timeline-wrapper customed"> <div class="wrapper-cell"> <div class="image"></div><div class="text"><div class="text-line sized"></div><div class="text-line"></div><div class="text-line"></div></div></div><div class="wrapper-cell"><div class="image"></div><div class="text"><div class="text-line sized"></div><div class="text-line"></div><div class="text-line"></div></div></div></div></div>');
                    fresco.show();
                    var _token = $('input[name="_token"]').val();
                    $.ajax({
                        url: autoCompleteUrl,
                        method: "POST",
                        data: {data: data, _token: _token, 'store_id': store_id},
                        success: function (data) {

                            setTimeout(function(){
                                if (data.count != 0) {
                                    if (data.responseItems !== null) {
                                        $('#productList').fadeIn();
                                        $('#productList').html(data.responseItems);
                                    } else {
                                        $('#productList').fadeOut();
                                        $('#productList').html('');
                                    }
                                } else {
                                    $('#productList').fadeOut();
                                    $('#productList').html('');
                                }
                            },301);

                        },
                        complete:function(){
                            setTimeout(function(){
                                fresco.hide();
                                fresco.empty();
                            },300);
                        }
                    });
                }
            });

            $(document).on('click', '.autocomplete-result-row', function () {
                $('#q').val($(this).data('text'));
                $('#productList').fadeOut();
                $('#q').closest("form").submit();
            });

        });
    </script>



</head>
<body class="page-container">



<!-- Header -->
<div id="header">

</div>
<div class="sepreateBlock" style="height: 68px;"></div>
<!-- /Header -->


<div class="container-fluid">
    <div class="row align-items-center no-gutters">
        <div class="col-8">

        </div>
        <div class="col-4">
            <div class="filter-products">
                <div  class="dropdown custom-dropdown-filter mb-2">
                    <form id="filteringForm"
                          action="https://mapp.sa/myore/products"
                          method="GET">
                        <button type="submit" style="display: none;"></button>
                    </form>


                </div>
            </div>
        </div>
    </div>
</div>
<section class="section">
    <div class="container-fluid">
        <div class="productsAllWrap" id="load_data">

            @foreach($products as $product )

            <div class="product-wrap-block">
                <div class="productItem">

                    <div class="image" style="position: relative">
                        <a href="{{route('front_single_product',$product->id)}}"
                           style="color: inherit!important;" class="product_cate">
                            <img
                                    id="product_image_191148"
                                    class="b-items__item__img imageTag"
                                    src="{{$product->image_url}}" onloadstart=""
                                    alt=""
                                    style="display: none;">

                            <div class="imageLoading" style="width: 100%;text-align:center;">
                                <i class="fa fa-picture-o" aria-hidden="true" style="display: block;
                        font-size: 5rem;
                        color: #dddddd;
                        margin: 2rem auto;"></i>
                                <span style="color: #dddddd;"> جاري تحميل الصورة </span>
                            </div>
                        </a>

                    </div>

                    <div class="productTitle">
                        <a href="{{route('front_single_product',$product->id)}}">
                            <h3 style="white-space: normal;overflow: hidden;text-overflow: ellipsis;padding-top: 10px!important;line-height: 36px;">test</h3>
                        </a>
                    </div>
                    <div class="productPrice">
                        <p>
                            {{$product->price}}     $                   </p>
                    </div>
                    <div class="productAddCart">
                        <a href="{{route('front_single_product',$product->id)}}"
                           class="btn">


                            <span>التقاصيل</span>

                        </a>

                    </div>

                </div>
            </div>
            @endforeach

        </div>

        <div style="margin:15px;text-align: center;" id="load_data_message"></div>

    </div>
</section>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://mapp.sa/webStore/themes/default/js/vendor/jquery-3.3.1.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/jquery-ui.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/popper.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/bootstrap.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/swiper.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/wow.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/jquery.nice-select.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/loading.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/feather.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/spin.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/ladda.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/loading-btn.init.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/gmaps.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/main.js"></script>
<script src="https://mapp.sa/cPanel/js/sweetalert.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/jquery.validate.min.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/validate.js"></script>
<script src="https://mapp.sa/webStore/themes/default/js/vendor/jquery.rateyo.min.js"></script>

<script src="https://mapp.sa/webStore/themes/default/js/vendor/webStoreLayout.js"></script>
<script type="text/javascript">
    $(document).on('click', '#InitiateCheckoutBTN', function (e) {
        e.preventDefault();
        const code = $(this).data('product_ids');
        var products = code.toString().indexOf(',') > -1 ? code.split(',') : [code];
        var price = $(this).data('price');
        var currency = $(this).data('currency');
        const link = $(this).attr('href');
        window.location.href = link;

    });
    $(document).on('click', '.favoriteBtn', function (e) {
        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        const id = $(this).data('id');
        const name = $(this).data('name');
        const code = $(this).data('code');
        const currency = $(this).data('currency');
        const price = $(this).data('price');
        $.ajax({
            type: "POST",
            url: "https://mapp.sa/myore/favoriteProduct",
            data: {id: id},
            success: function (data) {
                if (data.status === 1) {
                    const favorite_icon = $('.fav_icon_' + id);
                    favorite_icon.attr('class', '');
                    favorite_icon.attr('class', 'fav_icon_' + id + ' ' + data.message);
                    if (data.status_code == 200) {
                    }

                } else {
                    swal({
                        type: 'error',
                        title: data.message,

                    });
                }
            },
            error: function (data) {
                if ("ar" === "ar") {
                    swal({
                        type: 'warning',
                        title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                        timer: 4000
                    });
                } else {
                    swal({
                        type: 'warning',
                        title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                        timer: 4000
                    });
                }
            },
            complete: function () {
                //do nothing
            }
        });

    });
    $(document).on('click', '#forgotPassword', function (e) {
        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        const email = $('#forgotPasswordEmail').val();
        if (email !== "") {
            $.ajax({
                type: "POST",
                url: "https://mapp.sa/myore/forgotPassword",
                data: {email: email},
                success: function (data) {
                    if (data.status === 1) {
                        /*swal({
                            type: 'success',
                            title: data.message,
                            timer: 5000,
                            confirmButtonClass: 'btn btn-success resetSent',
                            buttonsStyling: true,
                            confirmButtonText: "ok"
                        });*/
                        $('#forgetPasswordModal').modal('hide');
                        $('#resetPasswordModal').modal('toggle');
                        $('#forgotEmail').val(email);

                    } else {
                        /*swal({
                            type: 'error',
                            title: data.message,
                            /!*
                                                                timer: 4000
                            *!/
                        });*/
                        $('#forgotPasswordError').html('<label id="forgotPasswordEmail-error" class="error" for="forgotPasswordEmail">' + data.message + '</label>');
                    }
                },
                error: function (data) {
                    if ("ar" === "ar") {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    } else {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    }
                },
                complete: function () {
                    //do nothing
                }
            });
        } else {
            /*swal({
                type: 'info',
                title: 'من فضلك، أدخل البريد الإلكتروني لإرسال رابط الإستعادة',
                timer: 4000
            });*/
            $('#forgotPasswordError').html('<label id="forgotPasswordEmail-error" class="error" for="forgotPasswordEmail"> ادخل بريد الكترونى صالح</label>');
        }

    });
    $(document).on('click', '#resetPassword', function (e) {
        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        $('#code-error').hide();
        $('#password-error').hide();
        $('#confirm-password-error').hide();
        $('#wrongconfirm-password-error').hide();

        var invalidForm = false;
        const email = $('#forgotEmail').val();
        const code = $('#resetCodeInput').val();
        const password = $('#resetPasswordInput').val();
        const password_confirmation = $('#resetPasswordConfirmationInput').val();
        if ($.trim(code).length === 0) {
            $('#code-error').show();
            invalidForm = true;
        } else {
            $('#code-error').hide();
        }
        if ($.trim(password).length < 6) {
            $('#password-error').show();
            invalidForm = true;
        }
        if ($.trim(password_confirmation).length < 6) {
            $('#confirm-password-error').show();
            invalidForm = true;
        }
        if ($.trim(password_confirmation) !== $.trim(password)) {
            $('#confirm-password-error').hide();
            $('#wrongconfirm-password-error').show();
            invalidForm = true;
        }
        if (invalidForm) {
            return false;
        }

        if (email !== "") {
            $('#code-error').hide();
            $('#password-error').hide();
            $('#confirm-password-error').hide();
            $('#wrongconfirm-password-error').hide();
            $.ajax({
                type: "POST",
                url: "https://mapp.sa/myore/forgotPassword/reset",
                data: {email: email, code: code, password: password, password_confirmation: password_confirmation},
                success: function (data) {
                    if (data.status === 1) {
                        swal({
                            type: 'success',
                            title: data.message,
                            timer: 5000,
                            confirmButtonClass: 'btn btn-success',
                            buttonsStyling: true,
                            confirmButtonText: "تم"
                        });
                        location.reload();
                        $('#forgetPasswordModal').modal('hide');
                        $('#resetPasswordModal').modal('hide');
                        // $('#loginModal').modal('show');
                    } else {
                        swal({
                            type: 'error',
                            title: data.message,
                            confirmButtonText: "حاول مره أخرى"
                            /*
                                                                timer: 4000
                            */
                        });
                    }
                },
                error: function (data) {
                    if ("ar" === "ar") {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    } else {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    }
                },
                complete: function () {
                    //do nothing
                }
            });
        }

    });
    $(document).on('click', '.unFavoriteBtn', function (e) {
        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        const id = $(this).data('id');
        $.ajax({
            type: "POST",
            url: "https://mapp.sa/myore/favoriteProduct",
            data: {id: id},
            success: function (data) {
                if (data.status === 1) {
                    var favoirte_item = $('#favorite_item_' + id);
                    favoirte_item.fadeOut(200);
                    favoirte_item.remove();

                } else {
                    swal({
                        type: 'error',
                        title: data.message,
                        /*
                                                            timer: 4000
                        */
                    });
                }
            },
            error: function (data) {
                if ("ar" === "ar") {
                    swal({
                        type: 'warning',
                        title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                        timer: 4000
                    });
                } else {
                    swal({
                        type: 'warning',
                        title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                        timer: 4000
                    });
                }
            },
            complete: function () {
                //do nothing
            }
        });

    });

    $(document).on('click', '.b-items__item__add-to-cart', function (e) {
        var cart = $('.cartBtn.cartBtn_lg');
        if ($(window).width() < 1200) {
            cart = $('.cartBtn.cartBtn_xs');
        }

        var imgtodrag = $(this).closest('div.productItem').find(".b-items__item__img").eq(0);

        // alert(imgtodrag);
        if (imgtodrag) {
            var imgclone = imgtodrag.clone()
                .offset({
                    top: imgtodrag.offset().top,
                    left: imgtodrag.offset().left
                })
                .css({
                    'opacity': '0.5',
                    'position': 'absolute',
                    'height': '150px',
                    'width': '150px',
                    'z-index': '100'
                })
                .appendTo($('body'))
                .animate({
                    'top': cart.offset().top + 10,
                    'left': cart.offset().left + 10,
                    'width': 75,
                    'height': 75
                }, 1000, 'easeInOutExpo');


            imgclone.animate({
                'width': 0,
                'height': 0
            }, function () {
                $(this).detach()
            });
        }
        $.ajaxSetup({
            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        var item = $(this);
        const id = $(this).data('id');
        const name = $(this).data('name');
        const price = $(this).data('price');
        const currency = $(this).data('currency');
        const code = $(this).data('code');
        const quantity = $(this).data('quantity');
        const variant_id = $(this).data('variant_id');
        $.ajax({
            type: "POST",
            url: "https://mapp.sa/myore/addToCart",
            data: {id: id, quantity: quantity, variant_id: variant_id},
            success: function (data) {
                if (data.status === 1) {
//alert('hi');
                    var cart = $('.b-cart');
                    cart.css('background-color', '#7374B6');
                    cart.html('<span id="cart-quantity" class="b-cart__count">' + data.totalQuantity + '</span>');
                } else {
                    swal({
                        type: 'error',
                        title: data.message,

                    });
                }
            },
            error: function (data) {
                if ("ar" === "ar") {
                    swal({
                        type: 'warning',
                        title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                        timer: 4000
                    });
                } else {
                    swal({
                        type: 'warning',
                        title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                        timer: 4000
                    });
                }
            },
            complete: function () {
                //do nothing
            }
        });

    });
    $(".btn-refresh-captcha").click(function () {
        $.ajax({
            type: 'GET',
            url: '/refresh_captcha',
            success: function (data) {
                $(".captcha #captcha_img").html(data.captcha);
            }
        })
    });
    var login_times = 0;
    var timeLeft = 60;
    var elem = document.getElementById('codeResendTimer');
    var timerId = null;

    function countdown() {
        if (timeLeft == -1) {
            clearTimeout(timerId);
            $('#resend_confirmation_code').css('display', 'block');
            $('#codeResendTimer').css('display', 'none');
        } else {
            elem.innerHTML = ' <span>إعادة ارسال بعد</span> ' + timeLeft;
            timeLeft--;
        }
    }

    checkLoginMethod();
    $('input[name="loginBy"]').on('change', function () {
        checkLoginMethod();
    });
    $(document).on('click', '#resend_confirmation_code', function (e) {
        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        const confirmation_mobile = $('#confirmation_mobile').val();

        if (confirmation_mobile !== "") {
            $.ajax({
                type: "POST",
                url: "https://mapp.sa/myore/checkUserAccount",
                data: {username: confirmation_mobile},
                success: function (data) {

                    if (data.status === true) {

                        $('#resend_confirmation_code').css('display', 'none');

                        timeLeft = 60;
                        timerId = setInterval(countdown, 1000);
                        $('#codeResendTimer').css('display', 'block');
                        /*swal({
                            type: 'success',
                            title: data.message,
                            timer: 5000,
                            confirmButtonClass: 'btn btn-success resetSent',
                            buttonsStyling: true,
                            confirmButtonText: "ok"
                        });*/


                        //$('#forgotEmail').val(email);

                    } else {
                        /*swal({
                            type: 'error',
                            title: data.message,
                            /!*
                                                                timer: 4000
                            *!/
                        });*/
                        $('#CodeConfirmaitonError').html('<label id="CodeConfirmaitonError-error" class="error" for="CodeConfirmaitonText">' + data.message + '</label>');
                    }
                },
                error: function (data) {
                    if ("ar" === "ar") {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    } else {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    }
                },
                complete: function () {
                    //do nothing
                }
            });
        }


    });
    $(document).on('click', '#loginModalStepOneBtn', function (e) {
        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        $('#loginModalStepOneMobileError').empty();
        var email = '';
        var country_id = $('#login_country_id').val();
        var isValid = false;
        var mobile_required = false;
        if ($('input[name="loginBy"]:checked').attr('id') == 'loginByMobile') {
            mobile_required = true;
            email = $('#loginModalStepOneMobile').val();
            email = $('#login_prefix').val() + email;
        } else {
            email = $('#loginModalStepOneEmail').val();
        }
        $('#loginModalStepOneForm').validate({
            rules: {
                mobile: {
                    required: mobile_required,
                    checkMobileNew: true,
                    // minlength: $('#loginModalStepOneEmail').attr('minlength'),
                    // maxlength: $('#loginModalStepOneEmail').attr('maxlength')
                },
                email: {
                    required: !mobile_required,
                    email: true,
                    // minlength: $('#loginModalStepOneEmail').attr('minlength'),
                    // maxlength: $('#loginModalStepOneEmail').attr('maxlength')
                },
            },
            messages: {
                mobile: {
                    required: "أدخل رقم جوال صالح",
                    minlength: "رقم الجوال المدخل غير صحيح",
                    maxlength: "رقم الجوال المدخل غير صحيح",
                },
                email: {
                    required: "أدخل بريد الكتروني صالح",
                    email: "أدخل بريد الكتروني صالح",
                    minlength: "البريد الالكتروني المدخل غير صحيح",
                    maxlength: "البريد الالكتروني المدخل غير صحيح",
                },

            }, errorPlacement: function (error, element) {
                //Custom position: first name
                ////console.log(error);
                if (element.attr("name") == "mobile") {
                    //  //console.log(error);

                    error.appendTo($("#loginModalStepOneMobileError").empty());
                }
                if (element.attr("name") == "email") {
                    // //console.log(error);

                    error.appendTo($("#loginModalStepOneEmailError").empty());
                }

            },
        });

        if ($('#loginModalStepOneForm').valid()) {
            isValid = true;
        } else {
            isValid = false;
        }
        const captcha = $('#logincaptcha').val();
        if (email !== "" && isValid) {
            login_times += 1;
            $.ajax({
                type: "POST",
                url: "https://mapp.sa/myore/checkUserAccount",
                data: {country_id: country_id, username: email, login_times: login_times, captcha: captcha},
                success: function (data) {

                    if (data.status === true) {
                        $('#loginModalStepOne').modal('hide');
                        $('#loginModalStepOneEmail').val();
                        $('#loginModalStepOneEmailError').empty();
                        $('#loginModalStepOneMobile').val();
                        $('#loginModalStepOneMobileError').empty();
                        /*swal({
                            type: 'success',
                            title: data.message,
                            timer: 5000,
                            confirmButtonClass: 'btn btn-success resetSent',
                            buttonsStyling: true,
                            confirmButtonText: "ok"
                        });*/
                        if (data.type == 'email') {

                            $('#loginModalStepTwoEmail').val(data.username);
                            $('#loginModalStepTwo').modal('toggle');
                        } else if (data.type == 'mobile') {


                            $('#confirmation_mobile').val(data.username);
                            timerId = setInterval(countdown, 1000)
                            $('#CodeConfirmaitonModal').modal('toggle');
                        } else if (data.type == 'new_email') {
                            $('#register_email_password').val(data.username);
                            $('#registerModalStepOnePassword').modal('toggle')

                        } else if (data.type == 'new_mobile') {
                            $('#register_mobile_password').val(data.username);
                            $('#registerModalStepFourPassword').modal('toggle')

                        }

                        //$('#forgotEmail').val(email);

                    } else {
                        /*swal({
                            type: 'error',
                            title: data.message,
                            /!*
                                                                timer: 4000
                            *!/
                        });*/
                        if ($('input[name="loginBy"]:checked').attr('id') == 'loginByMobile') {
                            $('#loginModalStepOneMobileError').html('<div id="loginModalStepOneMobile-error" class="error" for="loginModalStepOneMobile">' + data.message + '</div>');

                        } else {
                            $('#loginModalStepOneEmailError').html('<div id="loginModalStepOneEmail-error" class="error" for="loginModalStepOneEmail">' + data.message + '</div>');

                        }
                    }
                },
                error: function (data) {
                    if ("ar" === "ar") {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    } else {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    }
                },
                complete: function () {
                    //do nothing
                }
            });
        } else {
            if (email == "") {
                if ($('input[name="loginBy"]:checked').attr('id') == 'loginByMobile') {
                    $('#loginModalStepOneMobileError').html('<div id="loginModalStepOneMobile-error" class="error" for="loginModalStepOneMobile"> ادخل رقم جوال صالح</div>');
                } else {
                    $('#loginModalStepOneEmailError').html('<div id="loginModalStepOneEmail-error" class="error" for="loginModalStepOneEmail"> ادخل بريد الكتروني صالح</div>');
                }

            }
        }
        if (login_times >= 5) {
            $(".btn-refresh-captcha").trigger('click');
            $('#logincaptcha').val();
            $('div.captcha-cont').css('display', 'block');
        }

    });
    $('#loginModalStepTwoPassowrd').on('input', function () {
        $('#loginModalStepTwoPassowrdError').css('display', 'none');
    })
    $(document).on('click', '#CodeConfirmaitonBtn', function (e) {
        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        const confirmation_mobile = $('#confirmation_mobile').val();
        const CodeConfirmaitonText = $('#CodeConfirmaitonText').val();
        if (CodeConfirmaitonText !== "") {
            $('#CodeConfirmaitonSpinner').css('display', 'block');
            $.ajax({
                type: "POST",
                url: "https://mapp.sa/myore/checkMobileCode",
                data: {username: confirmation_mobile, mobile_code: CodeConfirmaitonText},
                success: function (data) {
                    if (data.status === true) {
                        if (data.user_id) {
                            $('#CodeConfirmaitonModal').modal('hide');
                            $('#new_register_user_id').val(data.user_id);
                            $('#confirmation_mobile').val();
                            $('#CodeConfirmaitonText').val();
                            $('#CodeConfirmaitonError').empty();
                            $('#registerModalStepTwo').modal('toggle');
                        } else {
                            if (data.route) {
                                if (data.route == '/') {
                                    return window.location.href = window.location.href;
                                } else {
                                    return window.location.href = data.route
                                }
                            } else {

                                $('#CodeConfirmaitonModal').modal('hide');
                                $('#new_register_mobile').val(data.username);
                                $('#confirmation_mobile').val();
                                $('#CodeConfirmaitonText').val();
                                $('#CodeConfirmaitonError').empty();
                                $('#registerModalStepThree').modal('toggle');
                            }
                        }


                    } else {
                        $('#CodeConfirmaitonSpinner').css('display', 'none');
                        $('#CodeConfirmaitonError').html('<label id="confirmation_mobile-error" class="error" for="confirmation_mobile">' + data.message + '</label>');
                    }
                },
                error: function (data) {
                    $('#CodeConfirmaitonSpinner').css('display', 'none');
                    if ("ar" === "ar") {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    } else {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    }
                },
                complete: function () {
                    //do nothing
                }
            });
        } else {
            $('#CodeConfirmaitonError').html('<label id="confirmation_mobile-error" class="error" for="confirmation_mobile"> ادخل رمز تحقق صالح</label>');
        }

    });
    $(document).on('input', '#CodeConfirmaitonText', function (e) {

        $.ajaxSetup({

            headers: {

                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

            }

        });
        e.preventDefault();
        const confirmation_mobile = $('#confirmation_mobile').val();
        const CodeConfirmaitonText = $('#CodeConfirmaitonText').val();
        if (CodeConfirmaitonText !== "" && CodeConfirmaitonText.length == 4) {
            $('#CodeConfirmaitonSpinner').css('display', 'block');
            $.ajax({
                type: "POST",
                url: "https://mapp.sa/myore/checkMobileCode",
                data: {username: confirmation_mobile, mobile_code: CodeConfirmaitonText},
                success: function (data) {
                    if (data.status === true) {
                        if (data.user_id) {
                            $('#CodeConfirmaitonModal').modal('hide');
                            $('#new_register_user_id').val(data.user_id);
                            $('#confirmation_mobile').val();
                            $('#CodeConfirmaitonText').val();
                            $('#CodeConfirmaitonError').empty();
                            $('#registerModalStepTwo').modal('toggle');
                        } else {
                            if (data.route) {
                                if (data.route == '/') {
                                    return window.location.href = window.location.href;
                                } else {
                                    return window.location.href = data.route
                                }
                            } else {

                                $('#CodeConfirmaitonModal').modal('hide');
                                $('#new_register_mobile').val(data.username);
                                $('#confirmation_mobile').val();
                                $('#CodeConfirmaitonText').val();
                                $('#CodeConfirmaitonError').empty();
                                $('#registerModalStepThree').modal('toggle');
                            }
                        }


                    } else {
                        $('#CodeConfirmaitonSpinner').css('display', 'none');
                        $('#CodeConfirmaitonError').html('<label id="confirmation_mobile-error" class="error" for="confirmation_mobile">' + data.message + '</label>');
                    }
                },
                error: function (data) {
                    $('#CodeConfirmaitonSpinner').css('display', 'none');
                    if ("ar" === "ar") {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    } else {
                        swal({
                            type: 'warning',
                            title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                            timer: 4000
                        });
                    }
                },
                complete: function () {
                    //do nothing
                }
            });
        }

    });
    $('#loginModalValdNew').submit(function (e) {
        e.preventDefault();
        if ($('#loginModalValdNew').valid()) {
            $.ajaxSetup({

                headers: {

                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

                }

            });
            const loginModalStepTwoEmail = $('#loginModalStepTwoEmail').val();
            const loginModalStepTwoPassowrd = $('#loginModalStepTwoPassowrd').val();
            if (loginModalStepTwoPassowrd !== "") {
                $.ajax({
                    type: "POST",
                    url: "https://mapp.sa/myore/ajaxsignIn",
                    data: {'email': loginModalStepTwoEmail, 'password': loginModalStepTwoPassowrd},
                    success: function (data) {
                        if (data.status === true) {
                            $('#loginModalStepTwoPassowrdError').css('display', 'none');
                            if (data.route == '/') {
                                return window.location.href = window.location.href;
                            } else {
                                return window.location.href = data.route
                            }
                        } else {
                            $('#loginModalStepTwoPassowrdError').css('display', 'block');
                            $('#loginModalStepTwoPassowrdError').html('<label id="loginModalStepTwoPassword-error" style="color: red;font-size: 10px;" for="loginModalStepTwoPassowrd">' + data.message + '</label>');
                        }
                    },
                    error: function (data) {
                        if ("ar" === "ar") {
                            swal({
                                type: 'warning',
                                title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                                timer: 4000
                            });
                        } else {
                            swal({
                                type: 'warning',
                                title: "عذراً: حدث خطأ غير متوقع.. من فضلك حاول في وقت لاحق.",
                                timer: 4000
                            });
                        }
                    },
                    complete: function () {
                        //do nothing
                    }
                });
            } else {
                $('#loginModalStepTwoPassowrdError').css('display', 'block');
                $('#loginModalStepTwoPassowrdError').html('<label id="loginModalStepTwoPassword-error" style="color: red;font-size: 10px;" for="loginModalStepTwoPassowrd"> ادخل كلمة المرور</label>');
            }
        }


    });
    $('#registerModalStepOnePasswordForm').submit(function (e) {
        e.preventDefault();
        if ($(this).valid()) {
            $('#registerModalStepOnePassword').modal('hide');
            $('#register_email').val($('#register_email_password').val());
            $('#register_password').val($('#registerModalStepOnePasswordText').val());
            $('#loginModalStepOneEmail').val();
            $('#loginModalStepOneEmailError').empty();
            $('#registerModalStepOne').modal('toggle')
        }

    });
    $('#registerModalStepFourPasswordForm').submit(function (e) {
        e.preventDefault();
        if ($(this).valid()) {
            $('#registerModalStepFourPassword').modal('hide');
            $('#register_mobile').val($('#register_mobile_password').val());
            $('#register_country_id').val($('#login_country_id').val());
            $('#register_password_mobile').val($('#registerModalStepFourPasswordText').val());
            $('#loginModalStepOneEmail').val();
            $('#loginModalStepOneEmailError').empty();
            $('#registerModalStepFour').modal('toggle')
        }


    });
    $("#forgetPasswordModal").on('shown.bs.modal', function () {
        var email = $('#loginModalStepTwoEmail').val();
        if (email != '') {
            $('#forgotPasswordEmail').val(email);

        }
    });
    $("#forgetPasswordModal").on('hidden.bs.modal', function () {
        $('#forgotPasswordEmail').val('');
    });

    function checkLoginMethod() {

        var type = $('input[name="loginBy"]:checked').attr('id');
        $('#loginModalStepOneEmail').val('');
        $('#loginModalStepOneMobile').val('');
        $('#loginModalStepOneEmailError').empty();
        $('#loginModalStepOneMobileError').empty();
        if (type == 'loginByMobile') {
            $('#loginMobileCont').css('display', 'block');
            $('#loginEmailCont').css('display', 'none');
            $('#loginModalStepOneMobile').attr('required', true);
            $('#loginModalStepOneEmail').removeAttr('required');


            if ($('#login_prefix').val() == 964) {
                $('#loginModalStepOneMobile').attr('maxLength', 10);
                $('#loginModalStepOneMobile').attr('minLength', 8);
            } else {
                $('#loginModalStepOneMobile').attr('maxLength', $('#login_count').val());
                $('#loginModalStepOneMobile').attr('minLength', $('#login_count').val());
            }

        } else {
            $('#loginMobileCont').css('display', 'none');
            $('#loginEmailCont').css('display', 'block');
            $('#loginModalStepOneEmail').attr('required', true);
            $('#loginModalStepOneMobile').removeAttr('required');

        }
    }

</script>



</body>
</html>
